<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Client Testimonials | New Leaf Painting Co.</title>
  <meta name="description" content="See real customer testimonials for New Leaf Painting Co. Trusted interior painters serving Southern Maine with professional workmanship and exceptional care.">
  <link rel="stylesheet" href="style.css" />

  <style>
    /* PAGE-SPECIFIC ENHANCEMENTS (kept minimal to match your theme) */
    .testimonial-wrapper {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .testimonial-card {
      background: #fff;
      padding: 25px;
      border-left: 6px solid #4caf50;
      border-radius: 6px;
      margin-bottom: 25px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .testimonial-card blockquote {
      font-size: 1.2rem;
      line-height: 1.6;
      color: #333;
      margin: 0 0 10px 0;
    }

    .testimonial-card .client-name {
      font-weight: bold;
      color: #2e2e2e;
    }

    .stars {
      color: #4caf50;
      font-size: 1.1rem;
      margin-bottom: 10px;
      display: inline-block;
    }

    /* FORM */
    .testimonial-form {
      background: #f7f7f7;
      padding: 30px;
      border-radius: 8px;
      margin-top: 40px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .testimonial-form h3 {
      margin-top: 0;
    }

    /* ✅ include select so it matches the other fields */
    .testimonial-form input,
    .testimonial-form textarea,
    .testimonial-form select {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 1rem;
      box-sizing: border-box;
    }

    .testimonial-form button {
      background-color: #4caf50;
      color: #fff;
      padding: 14px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.2s ease;
    }

    .testimonial-form button:hover {
      background-color: #43a047;
    }

    .testimonial-intro {
      text-align: center;
      margin-bottom: 40px;
    }

    /* ===== MODE SUPPORT (new) ===== */
    body.mode-hub #global-header,
    body.mode-hub #global-footer,
    body.mode-hub #contact-btn,
    body.mode-hub #contact-popup { display: none !important; }

    /* If they came from the Experience, make nav look like CTA buttons */
    body.mode-hub .nav-links a{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 2px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      color: #fff !important;
      font-weight: 800;
      text-decoration: none;
      transition: transform .12s ease, filter .12s ease;
    }
    body.mode-hub .nav-links a:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    body.mode-hub header{ background:#0f5f33; }
  </style>
</head>

<body>

  <!-- GLOBAL HEADER -->
  <div id="global-header"></div>

  <!-- PAGE CONTENT -->
  <section class="hero" style="padding-bottom: 20px;">
    <h1>What Our Clients Say</h1>
    <p>Real reviews from homeowners across Southern Maine who trusted New Leaf Painting Co.</p>
  </section>

  <div class="testimonial-wrapper">

    <div class="testimonial-intro">
      <h2>Customer Experiences</h2>
      <p>Here’s what people are saying after transforming their homes with us:</p>
    </div>

    <!-- EXISTING & SAMPLE TESTIMONIALS -->
    <div class="testimonial-card">
      <div class="stars">★★★★★</div>
      <blockquote>
        “I am absolutely thrilled with the results of my kitchen cabinets. They completely transformed my kitchen and the finish looks perfect. I highly recommend!!”
      </blockquote>
      <div class="client-name">— John M., Old Orchard Beach, ME</div>
    </div>

    <div class="testimonial-card">
      <div class="stars">★★★★★</div>
      <blockquote>
        “Mike was very professional, trustworthy and was very accommodating to our short notice requests. He completed on time and left his work area clean and tidy. Highly recommended!”
      </blockquote>
      <div class="client-name">— Editha T., Biddeford</div>
    </div>

    <div class="testimonial-card">
      <div class="stars">★★★★★</div>
      <blockquote>
        “Professional, fast, and very fair pricing. We’ll be calling New Leaf Painting for the rest of the house next!”
      </blockquote>
      <div class="client-name">— Tom & Rebecca, Falmouth</div>
    </div>

    <!-- SUBMISSION FORM -->
    <div class="testimonial-form">
      <h3>Submit Your Testimonial</h3>
      <p>Share your experience — your feedback helps local homeowners feel confident choosing New Leaf Painting Co.</p>

      <form action="https://formsubmit.co/newleafpaintingcompany@gmail.com" method="POST">
        <input type="hidden" name="_subject" value="New Testimonial Submission">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_template" value="table">

        <input type="text" name="Name" placeholder="Your Name" required>
        <input type="text" name="Location" placeholder="Your Location (optional)">

        <select name="Rating" required>
          <option value="">How would you rate your experience? (1–5 Stars)</option>
          <option value="5">★★★★★ – 5 Stars</option>
          <option value="4">★★★★☆ – 4 Stars</option>
          <option value="3">★★★☆☆ – 3 Stars</option>
          <option value="2">★★☆☆☆ – 2 Stars</option>
          <option value="1">★☆☆☆☆ – 1 Star</option>
        </select>

        <textarea name="Testimonial" rows="5" placeholder="Your Testimonial" required></textarea>

        <button type="submit">Submit Testimonial</button>
      </form>
    </div>

  </div>

  <!-- CTA BUTTON -->
  <section style="text-align:center; margin: 40px 0;">
    <button
      type="button"
      class="cta-button"
      onclick="document.getElementById('contact-popup').style.display='flex';">
      Schedule a Free Estimate
    </button>
  </section>

  <!-- GLOBAL FOOTER -->
  <div id="global-footer"></div>

  <!-- ===== GLOBAL INJECT + MODE (new) ===== -->
  <script>
    (function(){
      const params = new URLSearchParams(window.location.search);
      const mode = (params.get("mode") || "standard").toLowerCase(); // hub | standard

      // Apply body mode class for styling/hide rules
      document.body.classList.remove("mode-hub","mode-standard");
      document.body.classList.add(mode === "hub" ? "mode-hub" : "mode-standard");

      function buildQS(m){ return `?nav=1&mode=${encodeURIComponent(m)}`; }

      function isExternalHref(href){
        return href.startsWith("http://") || href.startsWith("https://") || href.startsWith("mailto:") || href.startsWith("tel:");
      }

      // Decorate internal links to preserve mode + nav
      function decorateLinks(m){
        document.querySelectorAll('a[href]').forEach(a => {
          const href = a.getAttribute("href");
          if (!href) return;
          if (href.startsWith("#")) return;
          if (href.startsWith("javascript:")) return;
          if (isExternalHref(href)) return;
          if (href.includes("nav=1")) return;

          const joiner = href.includes("?") ? "&" : "?";
          a.setAttribute("href", href + joiner + `nav=1&mode=${encodeURIComponent(m)}`);
        });
      }

      async function injectGlobal(){
        const res = await fetch("global.html");
        const html = await res.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const header = doc.querySelector("header");
        const footer = doc.querySelector("footer");
        const popup  = doc.querySelector("#contact-popup");
        const btn    = doc.querySelector("#contact-btn");

        const headerTarget = document.getElementById("global-header");
        const footerTarget = document.getElementById("global-footer");

        if (headerTarget && header) headerTarget.replaceChildren(header);
        if (footerTarget && footer) footerTarget.replaceChildren(footer);

        if (popup && !document.querySelector("#contact-popup")) document.body.insertAdjacentElement("beforeend", popup);
        if (btn && !document.querySelector("#contact-btn")) document.body.insertAdjacentElement("beforeend", btn);

        // Force HOME to return to the chosen “home” (hub or boring), NOT the gate
        const homeLink = document.getElementById("homeLink");
        if (homeLink){
          homeLink.href = "index.html" + buildQS(mode === "hub" ? "hub" : "standard");
        }

        // Setup popup close/open
        const popupEl = document.getElementById("contact-popup");
        const btnEl = document.getElementById("contact-btn");
        const popupClose = document.querySelector("#contact-popup .close");
        if (popupEl && btnEl && popupClose) {
          btnEl.onclick = () => popupEl.style.display = "flex";
          popupClose.onclick = () => popupEl.style.display = "none";
          window.addEventListener("click", e => { if (e.target === popupEl) popupEl.style.display = "none"; });
        }

        // Preserve mode across all links
        decorateLinks(mode === "hub" ? "hub" : "standard");

        // Optional: hide “fun row” if it exists
        const funRow = document.getElementById("nl-experience-nav");
        if (funRow && mode !== "hub") funRow.style.display = "none";
      }

      injectGlobal();
    })();
  </script>

</body>
</html>
