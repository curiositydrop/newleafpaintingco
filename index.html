<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New Leaf Painting Co. | Interior Painting in Southern Maine</title>
  <meta name="description" content="New Leaf Painting Co. provides expert interior painting for high-end homes in Cumberland, Falmouth, Cape Elizabeth, Yarmouth, Kennebunkport, and throughout Southern Maine. Services include walls, trim, baseboards, cabinets, and doors. Reliable, professional results for every home.">
  <link rel="stylesheet" href="style.css" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFESYBBBWD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZFESYBBBWD');
  </script>

  <style>
    /* ===== Gate Overlay (ALWAYS shows) ===== */
    #nl-gate {
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      background: #0f5f33;
    }
    #nl-gate .gate-inner {
      text-align: center;
      max-width: 760px;
      width: 100%;
      padding: 28px 18px;
    }
    #nl-gate .gate-logo {
      width: min(420px, 80vw);
      height: auto;
      margin: 0 auto 14px auto;
      display: block;
      background: rgba(255,255,255,.06);
      border-radius: 14px;
      padding: 10px;
    }
    #nl-gate .gate-line {
      margin: 0 auto 18px auto;
      font-size: 1.05rem;
      color: rgba(255,255,255,.92);
    }
    .gate-btn-row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    #nl-gate .gate-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 18px;
      border-radius: 12px;
      border: 2px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.92);
      color: #0f5f33;
      font-weight: 900;
      letter-spacing: .2px;
      cursor: pointer;
      transition: transform .15s ease, filter .15s ease;
      min-width: 230px;
    }
    #nl-gate .gate-btn:hover { transform: translateY(-1px); filter: brightness(1.02); }
    #nl-gate .gate-btn:active { transform: translateY(0px); filter: brightness(.98); }

    #nl-gate .gate-btn.alt {
      background: rgba(0,0,0,.18);
      color: #fff;
      border-color: rgba(255,255,255,.18);
      font-weight: 800;
    }

    #nl-gate.fade-out {
      opacity: 0;
      pointer-events: none;
      transition: opacity 1200ms ease;
    }

    /* ===== Modes ===== */
    /* Start hidden until user chooses */
    #nl-hub, #nl-standard { display: none; }

    body.mode-hub #nl-hub { display: block; }
    body.mode-standard #nl-standard { display: block; }

    /* Hide the OTHER mode so nothing repeats when scrolling */
    body.mode-hub #nl-standard { display: none !important; }
    body.mode-standard #nl-hub { display: none !important; }

    /* In HUB mode, hide global header/footer so nothing repeats */
    body.mode-hub #global-header,
    body.mode-hub #global-footer { display: none; }

    /* ===== HUB layout ===== */
    #nl-hub {
      min-height: 100vh;
      background: #0f5f33;
      display: grid;
      place-items: center;
      padding: 26px 14px;
    }
    .nl-hub-inner{
      width: 100%;
      max-width: 720px;
      text-align: center;
    }
    .nl-hub-logo{
      width: min(420px, 88vw);
      height: auto;
      display:block;
      margin: 0 auto 18px auto;
      background: rgba(255,255,255,.06);
      border-radius: 16px;
      padding: 10px;
    }

    .nl-hub-grid{
      display:flex;
      flex-direction:column;
      gap: 12px;
      margin: 0 auto;
      align-items:center;
    }

    .nl-hub-row{
      display:flex;
      gap: 12px;
      flex-wrap:wrap;
      justify-content:center;
      width: 100%;
    }

    .nl-btn{
      border-radius: 14px;
      padding: 14px 16px;
      font-weight: 900;
      border: 2px solid rgba(255,255,255,.20);
      background: rgba(255,255,255,.10);
      color: #fff;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      justify-content:center;
      align-items:center;
      transition: transform .12s ease, filter .12s ease, background .12s ease;
      width: min(560px, 92vw);
    }

    .nl-btn.small { width: min(240px, 44vw); }
    .nl-btn:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .nl-btn.primary{
      background: rgba(255,255,255,.92);
      color: #0f5f33;
      border-color: rgba(255,255,255,.22);
    }
    .nl-btn.spin{
      background: rgba(31,107,51,.95);
      color: #fff;
      border-color: rgba(255,255,255,.18);
    }

    /* ===== Skip mode: hide ONLY the experience row (keep normal nav links) ===== */
    body.mode-standard #nl-experience-nav {
      display: none !important;
    }
  </style>
</head>

<body>

  <!-- ===== Gate Overlay (ALWAYS) ===== -->
  <div id="nl-gate" aria-label="New Leaf Gate" role="dialog" aria-modal="true">
    <div class="gate-inner">
      <img class="gate-logo" src="7D16A71A-2AF9-4EBB-863A-09C24D4F6662.png" alt="New Leaf Painting Co.">
      <p class="gate-line">Not your typical painter website.</p>

      <div class="gate-btn-row">
        <button id="nl-enter" class="gate-btn" type="button">
          Enter the New Leaf Experience <span aria-hidden="true">→</span>
        </button>

        <button id="nl-skip" class="gate-btn alt" type="button">
          Skip (I hate fun)
        </button>
      </div>
    </div>
  </div>

  <!-- ===== HUB MODE (Experience) ===== -->
  <main id="nl-hub" aria-label="New Leaf Experience Hub">
    <div class="nl-hub-inner">
      <img class="nl-hub-logo" src="7D16A71A-2AF9-4EBB-863A-09C24D4F6662.png" alt="New Leaf Painting Co.">

      <div class="nl-hub-grid">
        <div class="nl-hub-row">
          <a class="nl-btn small" href="#games">Play a Game</a>
          <a class="nl-btn small spin" href="#spinwin">Spin &amp; Win ✨</a>
        </div>

        <a class="nl-btn" href="past-projects.html">See Transformations</a>

        <button
          type="button"
          class="nl-btn primary"
          onclick="document.getElementById('contact-popup').style.display='flex';">
          Schedule a Free Estimate
        </button>

        <div class="nl-hub-row">
          <a class="nl-btn small" href="past-projects.html">Past Projects</a>
          <a class="nl-btn small" href="local-partners.html">Local Partners</a>
          <a class="nl-btn small" href="testimonials.html">Testimonials</a>
        </div>

        <a class="nl-btn" href="referus.html">Refer New Leaf Painting Co.</a>
      </div>
    </div>
  </main>

  <!-- ===== STANDARD MODE (Normal site) ===== -->
  <div id="nl-standard">
    <!-- GLOBAL HEADER -->
    <div id="global-header"></div>

    <!-- PAGE CONTENT -->
    <section class="hero">
      <h1>Turn over a New Leaf — With a fresh new coat, one room at a time.</h1>
      <p>Professional interior painting built on trust, quality, and care.</p>

      <section class="about">
        <h2>Why Choose New Leaf Painting Co.</h2>
        <p>New Leaf Painting Co. isn’t just another painting service — we’re dedicated to giving your home the attention and renewal it deserves. Every brush stroke matters because your space deserves more than a quick coat; it deserves craftsmanship, precision, and pride.</p>

        <ul>
          <li><strong>Professional quality</strong> at fair, transparent prices</li>
          <li><strong>Respect for your home</strong> — we show up on time, protect your space, and clean up fully</li>
          <li><strong>Attention to detail</strong> that transforms a room, not just paints it</li>
          <li><strong>A smooth process</strong> from estimate to final walkthrough</li>
        </ul>
      </section>

      <button
        type="button"
        class="cta-button"
        onclick="document.getElementById('contact-popup').style.display='flex';">
        Schedule a Free Estimate
      </button>
    </section>

    <section class="services">
      <h2>Our Services</h2>
      <ul>
        <li>Interior Painting</li>
        <li>Cabinet Painting & Refinishing</li>
        <li>Drywall Repair and Surface Prep</li>
        <li>Drop Ceiling installation</li>
        <li>Light Carpentry</li>
        <li>Accent walls & color matching</li>
        <li>Eco-friendly paint options</li>
      </ul>
    </section>

    <section class="testimonial">
      <blockquote>
        “I am absolutely thrilled with the results of my kitchen cabinets. They completely transformed my kitchen and the finish looks perfect. I highly recommend!!”
      </blockquote>
      <p>— John M., Old Orchard Beach, ME</p>
    </section>

    <!-- GLOBAL FOOTER -->
    <div id="global-footer"></div>

    <!-- GLOBAL LOGIC -->
    <script src="global.js"></script>
  </div>

  <!-- ===== Gate Logic ===== -->
  <script>
    (function initNewLeafGateModes(){
      const gate = document.getElementById("nl-gate");
      const enterBtn = document.getElementById("nl-enter");
      const skipBtn  = document.getElementById("nl-skip");

      // ✅ Home only: gate exists, other pages don't have it
      const isHome =
        window.location.pathname === "/" ||
        window.location.pathname.endsWith("/index.html") ||
        window.location.pathname.endsWith("index.html");

      function setMode(mode){
        document.body.classList.remove("mode-hub", "mode-standard");
        document.body.classList.add(mode === "hub" ? "mode-hub" : "mode-standard");
        window.scrollTo({ top: 0, behavior: "instant" });
      }

      function closeGate(){
        gate.classList.add("fade-out");
        setTimeout(() => gate.remove(), 1250);
      }

      // ✅ IMPORTANT: persist the choice so other pages can force boring
      function persist(mode){
        // store a simple value your global.js can read if needed
        sessionStorage.setItem("nl_mode", mode); // "hub" or "standard"
      }

      enterBtn.addEventListener("click", () => {
        persist("hub");
        setMode("hub");
        closeGate();
      });

      skipBtn.addEventListener("click", () => {
        persist("standard");
        setMode("standard");
        closeGate();
      });

      [enterBtn, skipBtn].forEach(btn => {
        btn.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") btn.click();
        });
      });

      // (Optional) If they refresh the homepage after choosing once,
      // you can auto-skip the gate:
      const stored = sessionStorage.getItem("nl_mode");
      if (stored === "hub" || stored === "standard") {
        setMode(stored);
        closeGate();
      }
    })();
  </script>

</body>
</html>
